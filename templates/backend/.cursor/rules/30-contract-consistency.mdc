# 30-contract-consistency（backend 契约一致）

目标：保证接口实现与 OpenAPI 契约一致，降低前后端联调和回归风险。

## 输入
- 涉及接口的代码改动（controller/dto/vo/form/request/response）
- 当前 `openapi.yaml` 与 spec 约束
- 鉴权、错误码、分页约定

## 输出
- 契约影响结论（有变更/无变更）
- 若有变更：列出 endpoint 级差异
- 若无变更：给出“不影响契约”的明确依据

## 反例（禁止）
- 修改参数/返回结构但不更新 `openapi.yaml`。
- 只在 PR 中口头声明“兼容”而无证据。
- 忽略错误码与鉴权语义变化。
- 新增接口但未在 `spec_center/capability-registry.md` 记录能力条目。

## 检查清单
- [ ] API 改动已映射到契约文件。
- [ ] 新增/调整接口已同步到 `spec_center/capability-registry.md`（若仓库未接入 Spec Center，需在 PR 标注“待建”）。
- [ ] endpoint、参数、返回、错误码、鉴权均已核对。
- [ ] PR 描述包含契约影响结论。
